<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Handle Merge Conflict - Git Basics - Collaborating With Git</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="../../syllabus.html"><strong aria-hidden="true">2.</strong> Course Syllabus</a></li><li class="chapter-item expanded "><a href="../../prework-non-devs.html"><strong aria-hidden="true">3.</strong> Prework - For Non-Developers</a></li><li class="chapter-item expanded "><a href="../../prework.html"><strong aria-hidden="true">4.</strong> Prework - For All Students</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../prework/env-setup.html"><strong aria-hidden="true">4.1.</strong> Set Up Git Environment</a></li><li class="chapter-item expanded "><a href="../../prework/git-graph-install.html"><strong aria-hidden="true">4.2.</strong> Install Git-Graph plugin for VSCode</a></li><li class="chapter-item expanded "><a href="../../prework/explore-website-code.html"><strong aria-hidden="true">4.3.</strong> Orientation on project's starter code</a></li><li class="chapter-item expanded "><a href="../../prework/command-line-exercises.html"><strong aria-hidden="true">4.4.</strong> Command-line Exercises</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../prework/command-line-exercises/three-trees-git-reset.html"><strong aria-hidden="true">4.4.1.</strong> Three Trees and Git Reset</a></li><li class="chapter-item expanded "><a href="../../prework/command-line-exercises/branching.html"><strong aria-hidden="true">4.4.2.</strong> Branching</a></li><li class="chapter-item expanded "><a href="../../prework/command-line-exercises/merge-with-no-conflict.html"><strong aria-hidden="true">4.4.3.</strong> Merging Without Conflict</a></li><li class="chapter-item expanded "><a href="../../prework/command-line-exercises/merge-conflict.html" class="active"><strong aria-hidden="true">4.4.4.</strong> Handle Merge Conflict</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../session1.html"><strong aria-hidden="true">5.</strong> Session 1</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../session1/simple-collab-workflow.html"><strong aria-hidden="true">5.1.</strong> Simple Collaborative Workflow</a></li><li class="chapter-item expanded "><a href="../../session1/walkthrough-of-simple-workflow.html"><strong aria-hidden="true">5.2.</strong> Walk-through of Simple Workflow</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../session1/image0.html"><strong aria-hidden="true">5.2.1.</strong> Step 1 - Everybody checkout main</a></li><li class="chapter-item expanded "><a href="../../session1/image1.html"><strong aria-hidden="true">5.2.2.</strong> Step 2 - Teammate commits work</a></li><li class="chapter-item expanded "><a href="../../session1/image2.html"><strong aria-hidden="true">5.2.3.</strong> Step 3 - Teammate pushes</a></li><li class="chapter-item expanded "><a href="../../session1/image3.html"><strong aria-hidden="true">5.2.4.</strong> Step 4 - I make local changes too</a></li><li class="chapter-item expanded "><a href="../../session1/image4.html"><strong aria-hidden="true">5.2.5.</strong> Step 5.1 - I pull (first 1/2 - fetch)</a></li><li class="chapter-item expanded "><a href="../../session1/image5.html"><strong aria-hidden="true">5.2.6.</strong> Step 5.2 - I pull (second 1/2 - merge</a></li><li class="chapter-item expanded "><a href="../../session1/image6.html"><strong aria-hidden="true">5.2.7.</strong> Step 6 - I push main to "origin"</a></li></ol></li><li class="chapter-item expanded "><a href="../../session1/the-three-objects.html"><strong aria-hidden="true">5.3.</strong> Anatomy of a Git Commit, or, The Three Objects</a></li><li class="chapter-item expanded "><a href="../../session1/intro-to-git-reset.html"><strong aria-hidden="true">5.4.</strong> Your Local Git repo and The Three Trees - or, "Intro to git reset"</a></li><li class="chapter-item expanded "><a href="../../session1/resolve-merge-conflict.html"><strong aria-hidden="true">5.5.</strong> Create And Resolve Merge Conflicts - With Basic Workflow</a></li></ol></li><li class="chapter-item expanded "><a href="../../objects-and-trees-exercise.html"><strong aria-hidden="true">6.</strong> Objects-and-Trees Exercise</a></li><li class="chapter-item expanded "><a href="../../session2.html"><strong aria-hidden="true">7.</strong> Session 2</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../session2/github-project-board.html"><strong aria-hidden="true">7.1.</strong> Github Project Boards</a></li><li class="chapter-item expanded "><a href="../../session2/add-features.html"><strong aria-hidden="true">7.2.</strong> Add Features As a Team</a></li><li class="chapter-item expanded "><a href="../../session2/git-cherry-pick.html"><strong aria-hidden="true">7.3.</strong> Intro to Git Cherry-Pick</a></li><li class="chapter-item expanded "><a href="../../session2/git-rebase.html"><strong aria-hidden="true">7.4.</strong> Intro to Git Rebase</a></li></ol></li><li class="chapter-item expanded "><a href="../../common-git-workflows.html"><strong aria-hidden="true">8.</strong> Common Git Workflows</a></li><li class="chapter-item expanded "><a href="../../viewing-changes.html"><strong aria-hidden="true">9.</strong> Viewing Changes</a></li><li class="chapter-item expanded "><a href="../../references.html"><strong aria-hidden="true">10.</strong> References</a></li><li class="chapter-item expanded "><a href="../../cheat-sheet.html"><strong aria-hidden="true">11.</strong> Git Basics Cheat Sheet</a></li><li class="chapter-item expanded "><a href="../../instructor-notes.html"><strong aria-hidden="true">12.</strong> Instructor Notes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../instructor-notes/session1.html"><strong aria-hidden="true">12.1.</strong> Session 1 </a></li><li class="chapter-item expanded "><a href="../../instructor-notes/session2.html"><strong aria-hidden="true">12.2.</strong> Session 2 </a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Git Basics - Collaborating With Git</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="merging---with-conflict"><a class="header" href="#merging---with-conflict">Merging - with conflict</a></h1>
<p>Let's practice another merge, but now with a change that conflicts.</p>
<p>But first, read up a little on <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/addressing-merge-conflicts/about-merge-conflicts">what causes merge conflicts</a>.</p>
<p>Create and checkout a new <code>alsoMyBranch</code>--but start it where <code>main</code> started.  You can use several methods to refer to that pont.  The following notations all resolve to the same commit:</p>
<ul>
<li><code>main^^</code> - two commits before main</li>
<li><code>HEAD^^</code> - two commits before HEAD</li>
<li><code>origin/main</code> - the commit on which the <code>origin/main</code> tracking branch sits</li>
<li><code>2dd739a</code> - the shortname of the commit</li>
<li><code>2dd7</code> - an even shorter name--works as long as it's unique</li>
<li><code>2dd739a539c6cc30e9b3cdfa952439ba93c0c392</code> - the full SHA</li>
</ul>
<pre><code>git checkout -b alsoMyBranch main^^  # Each caret (^) goes back one commit
</code></pre>
<p>Now <code>alsoMyBranch</code> exists and sits on <code>2dd739a</code>, and <code>HEAD</code> is pointing to it; that is, it's your current branch.</p>
<p>Change the menu item source code in <code>index.html</code> like you did on <code>mybranch</code>--but not <em>exactly</em> like you did; let's add another menu item to <code>index.html</code>.</p>
<p>From this...</p>
<pre><code>    &lt;a href=&quot;./index.html&quot;&gt;Home&lt;/a&gt; &lt;a href=&quot;./help.html&quot;&gt;Help&lt;/a&gt;
</code></pre>
<p>... to this:</p>
<pre><code>    &lt;a href=&quot;./index.html&quot;&gt;Home&lt;/a&gt;
    &lt;a href=&quot;./map.html&quot;&gt;Map&lt;/a&gt;
    &lt;a href=&quot;./help.html&quot;&gt;Help&lt;/a&gt;
</code></pre>
<p>Save the file.  Now <code>git add</code> and <code>git commit</code>...</p>
<pre><code>adog  # Check how the graph looks.
git diff           # What am I about to add to the index?
git add index.html
adog  # Check how the graph looks.  Has it changed?
git diff --staged  # What am I about to commit to git?
git diff           # Why does this show no differences?
git commit -m &quot;add 'Map' to the menu&quot;
adog  # Check how the graph looks.  How about now?
</code></pre>
<p>The git graph should now look something like this:</p>
<pre><code>adog
* daf0eb2 (HEAD -&gt; alsoMyBranch) add 'Map' to the menu
| *   686e8db (main) merge HTML source menu updates in index.html and help.html
| |\  
| | * ccaf82c (mybranch) each menu item on a separate line in the code
| |/  
|/|   
| * f7295ef each menu item on a separate line in the code (for help.html)
|/  
* 2dd739a (origin/main) Some handy git aliases, and an initial .gitignore
* 4ca41a7 Initial commit
</code></pre>
<p>Let's merge!</p>
<pre><code>git merge mybranch   # Merge mybranch into current branch
Auto-merging index.html
CONFLICT (content): Merge conflict in index.html
Automatic merge failed; fix conflicts and then commit the result.
</code></pre>
<p>There it is--the <strong>merge conflict</strong>.  Git doesn't have enough info to know what you want to happen.</p>
<p>At this point, git has placed info about the conflict into index.html, and left it up to you to figure it out.  You can view the contents of the file directly, like this:</p>
<pre><code>cat index.html 
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Solar System&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;The Solar System&lt;/h1&gt;
    &lt;a href=&quot;./index.html&quot;&gt;Home&lt;/a&gt;
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
    &lt;a href=&quot;./map.html&quot;&gt;Map&lt;/a&gt;
=======
&gt;&gt;&gt;&gt;&gt;&gt;&gt; mybranch
    &lt;a href=&quot;./help.html&quot;&gt;Help&lt;/a&gt;
    &lt;h1&gt;Hello World!&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>The changes from your current branch show up between <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code> and <code>=======</code>.</p>
<p>The changes from the merged-in <code>mybranch</code> show up between <code>=======</code> and <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt; mybranch</code>.</p>
<p>You can use VSCode to view <code>index.html</code>; VSCode understands the merge-conflict format and decorates your view with buttons to help out.</p>
<p>In this case, you would want both changes: the new 'map.html' link, and the 'help.html' link on a line by itself (which in this case, somewhat non-intuitively, shows up as an empty diff for the merged-in branch).</p>
<p>Click <code>Accept Both Changes</code> in VSCode, or manually delete the delimiters that git added, so that the code looks like this:</p>
<pre><code>&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Solar System&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;The Solar System&lt;/h1&gt;
    &lt;a href=&quot;./index.html&quot;&gt;Home&lt;/a&gt;
    &lt;a href=&quot;./map.html&quot;&gt;Map&lt;/a&gt;
    &lt;a href=&quot;./help.html&quot;&gt;Help&lt;/a&gt;
    &lt;h1&gt;Hello World!&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Now, tell git about the resolution by doing <code>git add</code> for the file that had the conflict:</p>
<pre><code>git add index.html
</code></pre>
<p>And finally, commit it.  Git keeps track that you're still merging, so it will make this commit a <strong>merge commit</strong>--that is, a commit with two parents.</p>
<pre><code>git commit -m &quot;merge 'Map' entry with mybranch&quot;
</code></pre>
<p><strong>Key Takeaways:</strong></p>
<ul>
<li>You can start a branch from any commit--not necessarily the one you happen to be on.</li>
<li>You can reference a commit in lots of different ways.</li>
<li>By definition, merge commits have two or more parents.</li>
<li>The changes for the branch you're on will show up <em>first</em> in a merge conflict's diff report.</li>
<li>The changes for the branch being merged into your current branch will show up <em>last</em> in a merge conflict's diff report.</li>
<li>NOTE: A given merge may have more than one set of conflicts to resolve, even within the same file.  <em>Don't assume the first conflict is the only one!</em></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../prework/command-line-exercises/merge-with-no-conflict.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../session1.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../prework/command-line-exercises/merge-with-no-conflict.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../session1.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
